<!doctype html>
<html class="default no-js">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Leviathan Helpers</title>
	<meta name="description" content="Documentation for Leviathan Helpers">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="assets/css/main.css">
	<link rel="stylesheet" href="assets/css/pages.css">
</head>
<body>
<header>
	<div class="tsd-page-toolbar">
		<div class="container">
			<div class="table-wrap">
				<div class="table-cell" id="tsd-search" data-index="assets/js/search.json" data-base=".">
					<div class="field">
						<label for="tsd-search-field" class="tsd-widget search no-caption">Search</label>
						<input id="tsd-search-field" type="text" />
					</div>
					<ul class="results">
						<li class="state loading">Preparing search index...</li>
						<li class="state failure">The search index is not available</li>
					</ul>
					<a href="index.html" class="title">Leviathan Helpers</a>
				</div>
				<div class="table-cell" id="tsd-widgets">
					<div id="tsd-filter">
						<a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a>
						<div class="tsd-filter-group">
							<div class="tsd-select" id="tsd-filter-visibility">
								<span class="tsd-select-label">All</span>
								<ul class="tsd-select-list">
									<li data-value="public">Public</li>
									<li data-value="protected">Public/Protected</li>
									<li data-value="private" class="selected">All</li>
								</ul>
							</div>
							<input type="checkbox" id="tsd-filter-inherited" checked />
							<label class="tsd-widget" for="tsd-filter-inherited">Inherited</label>
							<input type="checkbox" id="tsd-filter-only-exported" />
							<label class="tsd-widget" for="tsd-filter-only-exported">Only exported</label>
						</div>
					</div>
					<a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a>
				</div>
			</div>
		</div>
	</div>
	<div class="tsd-page-title">
		<div class="container">
			<ul class="tsd-breadcrumb">
				<li>
					<a href="modules.html">Globals</a>
				</li>
			</ul>
			<h1>Leviathan Helpers</h1>
		</div>
	</div>
</header>
<div class="container container-main">
	<div class="row">
		<div class="col-8 col-content">
			<div class="tsd-panel tsd-typography">
				<a href="#leviathan" id="leviathan" style="color: inherit; text-decoration: none;">
					<h1>Leviathan</h1>
				</a>
				<p><a href="https://github.com/balena-io/leviathan/issues"><img src="https://img.shields.io/github/issues/balena-io/leviathan.svg" alt="GitHub Issues"></a>
					<a href="https://github.com/balena-io/leviathan/pulls"><img src="https://img.shields.io/github/issues-pr/balena-io/leviathan.svg" alt="GitHub pull requests"></a>
					<a href="https://nodejs.org/download/release/v12.0.0/"><img src="https://img.shields.io/badge/node-v12.0.0-green.svg" alt="node"></a>
				<a href="https://opensource.org/licenses/Apache-2.0"><img src="https://img.shields.io/badge/license-APACHE%202.0-blue.svg" alt="License"></a>  <a href="https://dashboard.balena-cloud.com/deploy?repoUrl=https://github.com/balena-os/leviathan"><img src="https://www.balena.io/deploy.svg" alt="balena deploy button"></a></p>
				<p>Leviathan can be used to automate, test and control real/virtual devices in production or controlled environments. What can you do:</p>
				<ol>
					<li>Stress testing the provisioning process for reliability, performance &amp; fault tolerance.</li>
					<li>Testing new balenaOS, balenaEngine and balena supervisor on different board revisions, prod/staging environments for managed and unmanaged scenarios.</li>
					<li>Automate release deployment for balenaCloud fleets by testing codebase on real/virtual devices under test.</li>
					<li>Automate support for new modems, sensors, components and eventually new boards.</li>
				</ol>
				<p>The high-level overview of the leviathan architecture can be found <a href="./documentation/architecture.md">here</a></p>
				<a href="#getting-started" id="getting-started" style="color: inherit; text-decoration: none;">
					<h2>Getting Started</h2>
				</a>
				<p>Leviathan allows for running tests on a device controlled by a worker. A worker is a component on which your tests actually runs. The worker can be either real hardware or a virtualised environment. Leviathan is designed to work with multiple workers. At the moment, leviathan supports <a href="https://balena-os.github.io/leviathan/pages/Getting-Started/quickstart/quickstart-testbot.html">testbot</a> and <a href="https://balena-os.github.io/leviathan/pages/Getting-Started/quickstart/quickstart-qemu.html">qemu</a> workers. Learn more about <a href="https://balena-os.github.io/leviathan/pages/Getting-Started/learn-more.html">Leviathan</a>.</p>
				<a href="#clone-the-repository" id="clone-the-repository" style="color: inherit; text-decoration: none;">
					<h3>Clone the repository</h3>
				</a>
				<ul>
					<li>Clone this repository with <code>git clone --recursive</code> or</li>
					<li>Run <code>git clone</code> and then <code>git submodule update --init --recursive</code> to install submodules.</li>
				</ul>
				<a href="#prerequisites" id="prerequisites" style="color: inherit; text-decoration: none;">
					<h3>Prerequisites</h3>
				</a>
				<ul>
					<li>Install Docker, node and npm in your system. We recommend installing <a href="https://github.com/nvm-sh/nvm#install--update-script">LTS versions from NVM</a>.</li>
					<li>Download the balenaOS image you want to test on your DUT from <a href="https://balena.io/os#download">balena.io/os</a>.</li>
				</ul>
				<a href="#worker-setup" id="worker-setup" style="color: inherit; text-decoration: none;">
					<h3>Worker setup</h3>
				</a>
				<p>Leviathan allows for running tests on a device under test (DUT) connected to and controlled by either a testbot worker, or on a virtualized device using the QEMU worker. Check out the following getting started guides to setup and run each type of worker.</p>
				<ol>
					<li><a href="https://balena-os.github.io/leviathan/pages/Getting-Started/quickstart/quickstart-testbot.html">Testbot worker</a></li>
					<li><a href="https://balena-os.github.io/leviathan/pages/Getting-Started/quickstart/quickstart-qemu.html">QEMU worker</a></li>
				</ol>
				<a href="#instructions-for-rig-owners" id="instructions-for-rig-owners" style="color: inherit; text-decoration: none;">
					<h2>Instructions for rig-owners</h2>
				</a>
				<p>Leviathan is made up of a client and worker. The client is the test runner while the worker is where tests get executed. For testbot workers, the worker component exists on the testbot device. The testbot devices are part of a <a href="https://balena.io">balenaCloud</a> fleet. In order to update the worker component for testbot workers, you need to <a href="https://www.balena.io/docs/learn/deploy/deployment/">push a new release</a> to the testbot fleet.</p>
				<p>To push a new release of leviathan to balenaCloud, use the following command:</p>
				<pre><code class="language-bash"><span style="color: #002339">balena push </span><span style="color: #7B30D0">&lt;</span><span style="color: #002339">fleetName</span><span style="color: #7B30D0">&gt;</span>
</code></pre>
				<p>The <code>&lt;fleetName&gt;</code> is the name of the fleet you intend to push a new version of leviathan to. Keep in mind, the client and the test that run are independent of the worker. Hence, updates to the client or the tests don&#39;t need to be pushed to the balenaCloud fleet. In order to change the worker component, you need to push a new release to the balenaCloud fleet.</p>
				<a href="#documentation-for-leviathan-helpers" id="documentation-for-leviathan-helpers" style="color: inherit; text-decoration: none;">
					<h2>Documentation for Leviathan Helpers</h2>
				</a>
				<p>Documentation for Leviathan helpers can be found on <a href="https://balena-os.github.io/leviathan">https://balena-os.github.io/leviathan</a>. To generate the documentation, run the following command from either the root of the repository or the <code>core</code> directory.</p>
				<pre><code class="language-bash"><span style="color: #002339">npm install</span>
<span style="color: #002339">npm run docs</span>
</code></pre>
				<p>If the docs are generated successfully, you will be getting the success line as:</p>
				<pre><code class="language-bash"><span style="color: #002339">Info: Documentation generated at /path/to/documentation</span>
</code></pre>
				<a href="#support" id="support" style="color: inherit; text-decoration: none;">
					<h2>Support</h2>
				</a>
				<p>If you&#39;re having any problem, please <a href="https://github.com/balena-io/leviathan/issues/new">raise an issue</a> on GitHub and the balena team will be happy to help.</p>
				<a href="#license" id="license" style="color: inherit; text-decoration: none;">
					<h2>License</h2>
				</a>
				<p>The project is licensed under the Apache 2.0 license.</p>
			</div>
		</div>
		<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
			<nav class="tsd-navigation primary">
				<ul>
					<li class="label pp-nav pp-group">
						<span>Getting-<wbr><wbr>Started</span>
					</li>
					<li class=" pp-nav pp-page pp-parent">
						<a href="pages/Getting-Started/quickstart.html">Quickstart</a>
					</li>
					<li class=" pp-nav pp-page">
						<a href="pages/Getting-Started/config-reference.html">Config.js <wbr>Reference</a>
					</li>
					<li class=" pp-nav pp-page">
						<a href="pages/Getting-Started/writing-tests.html">Writing tests</a>
					</li>
					<li class=" pp-nav pp-page">
						<a href="pages/Getting-Started/debugging.html">Debugging tests in <wbr>Leviathan</a>
					</li>
					<li class=" pp-nav pp-page">
						<a href="pages/Getting-Started/reference-tips.html">Tips and <wbr>Reference</a>
					</li>
					<li class=" pp-nav pp-page">
						<a href="pages/Getting-Started/learn-more.html">Links, and more links</a>
					</li>
					<li class="label pp-nav pp-group">
						<span>Helper <wbr>Methods</span>
					</li>
					<li class=" ">
						<a href="modules.html">Modules</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/Archiver.html">Archiver</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/Context.html">Context</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/Graphics.html">Graphics</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/Leviathan_Utility_helpers.html">Leviathan <wbr>Utility helpers</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/Leviathan_Worker_helpers.html">Leviathan <wbr>Worker helpers</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/State.html">State</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/Suite.html">Suite</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/TaskQueue.html">Task<wbr>Queue</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/Test.html">Test</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/balenaCLI_helpers.html">balenaCLI helpers</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/balenaOS_helpers.html">balenaOS helpers</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/balenaSDK_helpers.html">balenaSDK helpers</a>
					</li>
				</ul>
			</nav>
			<nav class="tsd-navigation secondary menu-sticky">
				<ul class="before-current">
				</ul>
			</nav>
		</div>
	</div>
</div>
<footer class="with-border-bottom">
	<div class="container">
		<h2>Legend</h2>
		<div class="tsd-legend-group">
			<ul class="tsd-legend">
				<li class="tsd-kind-namespace"><span class="tsd-kind-icon">Namespace</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-class"><span class="tsd-kind-icon">Class</span></li>
			</ul>
		</div>
	</div>
</footer>
<div class="container tsd-generator">
	<p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p>
</div>
<div class="overlay"></div>
<script src="assets/js/main.js"></script>
<script>if (location.protocol == 'file:') document.write('<script src="assets/js/search.json"><' + '/script>');</script>
</body>
</html>