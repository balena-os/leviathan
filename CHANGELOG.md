# Change Log

All notable changes to this project will be documented in this file
automatically by Versionist. DO NOT EDIT THIS FILE MANUALLY!
This project adheres to [Semantic Versioning](http://semver.org/).

# v1.28.2
## (2021-07-21)

* patch: Move generated docs to root for GitHub Pages [Vipul Gupta (@vipulgupta2048)]

# v1.28.1
## (2021-07-19)

* patch: generate leviathan helpers documentation [Vipul Gupta (@vipulgupta2048)]

# v1.28.0
## (2021-07-19)

* Add Leviathan helpers documentation [Vipul Gupta (@vipulgupta2048)]

# v1.27.13
## (2021-07-12)

* fix preload helper [rcooke-warwick]

# v1.27.12
## (2021-07-07)

* patch: Update waitUntil helper's rejection condition to default false [Vipul Gupta]

# v1.27.11
## (2021-07-01)

* Fix balenaOS image link in README [Miguel Casqueira]

# v1.27.10
## (2021-06-30)

* patch: Delete Codeowners [Vipul Gupta]

# v1.27.9
## (2021-06-25)

* Fix formatting [Ryan Cooke]
* add get os function to worker [rcooke-warwick]
* make fetchOS function use downloads dir [rcooke-warwick]
* fix test teardowns overlapping with suite teardown [rcooke-warwick]
* Allow use of balenaOS class with any image [rcooke-warwick]

# v1.27.8
## (2021-06-22)

* patch: Reboot DUT helper [Vipul Gupta (@vipulgupta2048)]

# v1.27.7
## (2021-06-18)

* change to iso format [rcooke-warwick]
* add log timestamping [rcooke-warwick]

# v1.27.6
## (2021-06-16)

* multi-client: catch exceptions of the single-client children [Robert Günzler]

# v1.27.5
## (2021-06-03)

* client: improve multi-client output [Robert Günzler]

# v1.27.4
## (2021-05-31)

* stop retry from throwing in pushcontainer [rcooke-warwick]

# v1.27.3
## (2021-05-28)

* directly use stream objects and improve logs [rcooke-warwick]
* fix image upload retry [rcooke-warwick]

# v1.27.2
## (2021-05-19)

* make timeout on waitUntilServicesRunning a param [rcooke-warwick]

# v1.27.1
## (2021-05-14)

* stop client sending multiple jobs to same worker [rcooke-warwick]

# v1.27.0
## (2021-05-14)

* allow client to gzip images before sending [rcooke-warwick]
* Filter only online testbots with DUT tag [Vipul Gupta (@vipulgupta2048)]
* minor: Parallelize multi-suite testing with multiple workers [Vipul Gupta (@vipulgupta2048)]

# v1.26.15
## (2021-05-14)

* fix preload format in cli helper class [rcooke-warwick]
* Fix typedoc param declarations [rcooke-warwick]
* add documentation [rcooke-warwick]
* add more cloud helpers [rcooke-warwick]

# v1.26.14
## (2021-05-13)

* resolve both report and artifact download promises [rcooke-warwick]
* Resolve promise for report downloads correctly [rcooke-warwick]
* describe how to capture screen and send artifacts [rcooke-warwick]
* fix report archive naming [rcooke-warwick]
* allow client to download artifacts [rcooke-warwick]
* make worker storage volume accessible by core [rcooke-warwick]
* fix hdmi capture [rcooke-warwick]

# v1.26.13
## (2021-04-29)

* Add unpack type that does nothing [Robert Günzler]

# v1.26.12
## (2021-04-07)

* fix docker-compose [rcooke-warwick]
* Include bluez for bluetooth tests [rcooke-warwick]

# v1.26.11
## (2021-04-07)

* add push container and execute in container helper [rcooke-warwick]

# v1.26.10
## (2021-03-25)

* move getting started leviathan guide here [rcooke-warwick]

# v1.26.9
## (2021-03-03)

* increase upload timeout from 5 to 10 mins [rcooke-warwick]

# v1.26.8
## (2021-03-01)

* Add NUC support and improve logging [Roman Mazur]
* Update testbot library to support more device types [Roman Mazur]

# v1.26.7
## (2021-02-17)

* bump dbus package [rcooke-warwick]

# v1.26.6
## (2021-02-04)

* Add note about access needed [Vipul Gupta (@vipulgupta2048)]
* Add Getting Started section to README [Vipul Gupta (@vipulgupta2048)]

# v1.26.5
## (2021-01-26)

* Disable persistent logging test [Vipul Gupta (@vipulgupta2048)]

# v1.26.4
## (2021-01-21)

* Activate persistent logging test [Vipul Gupta (@vipulgupta2048)]

# v1.26.3
## (2020-10-25)

* Revert "Add integrity check on file uploads" [Roman Mazur]

# v1.26.2
## (2020-10-23)

* Replace url property with HTTPS for versionbot [Vipul Gupta]

# v1.26.1
## (2020-09-17)

* Improve message when fingerprint test passes [Vipul Gupta (@vipulgupta2048)]
* Add integrity check to file upload [Vipul Gupta (@vipulgupta2048)]

# v1.26.0
## (2020-08-12)

* Add device info to reports file name [Roman Mazur]

# v1.25.1
## (2020-07-16)

* Fix DUT serial output download logic [Roman Mazur]

# v1.25.0
## (2020-07-13)

* Remove qemu from available impl options [Roman Mazur]
* Capture DUT serial output [Roman Mazur]

# v1.24.4
## (2020-07-08)

* Bump npm from 6.13.4 to 6.14.6 in /core [dependabot[bot]]

# v1.24.3
## (2020-07-06)

* Store test report per worker device [Roman Mazur]

# v1.24.2
## (2020-06-29)

* Pin glider version to avoid build issues [Roman Mazur]

# v1.24.1
## (2020-06-16)

* Fix error handling [Roman Mazur]

# v1.24.0
## (2020-06-15)

* Disable execution of Persistent Logging test [Vipul Gupta (@vipulgupta2048)]

# v1.23.4
## (2020-06-10)

* Reword fingerprint test assertions for consistency [Giovanni Garufi]

# v1.23.3
## (2020-06-09)

* Add basic retry logic to client->core communications [Roman Mazur]

# v1.23.2
## (2020-06-05)

* Report suite results back to the client [Roman Mazur]

# v1.23.1
## (2020-06-04)

* Disable boot-splash test [Roman Mazur]

# v1.23.0
## (2020-06-02)

* Start using testbot SDK in leviathan [Roman Mazur]

## 1.22.3 - 2020-02-20

* Fix wired connection configuration [Roman Mazur]
* Add status LED indicator [Roman Mazur]

## 1.22.2 - 2020-02-14

* Bump contracts to v1.1.94 [Roman Mazur]

## 1.22.1 - 2020-02-05

* Ensure host network is used in the container [Roman Mazur]

## 1.22.0 - 2020-01-29

* Dockerize client [Roman Mazur]

## 1.21.6 - 2020-01-17

* Fix lint errors [Roman Mazur]
* Perform clean install in Docker build [Roman Mazur]
* Consolidate git hooks setup [Roman Mazur]
* Remove unused jenkins download type [Roman Mazur]
* Move libvirt to optional deps [Roman Mazur]

## 1.21.5 - 2020-01-09

* Add package-lock files [Giovanni Garufi]

## 1.21.4 - 2020-01-04

* Remove the /select route in favour of enviroment variable configuration [Theodor Gherzan]

## 1.21.3 - 2019-12-20

* Trigger signal handling once, but still capture all [Theodor Gherzan]

## 1.21.2 - 2019-12-19

* Rename managed and unmanaged test suites [Giovanni Garufi]

## 1.21.1 - 2019-12-19

* Update .gitignore to exclude logs and default conf [Giovanni Garufi]
* Add default configs for single and multi client [Giovanni Garufi]

## 1.21.0 - 2019-12-19

* Add OS fingerprint test [Giovanni Garufi]

## 1.20.5 - 2019-12-18

* Support for the testbot HAT [Theodor Gherzan]

## 1.20.4 - 2019-12-18

* Fix run from non-bin director [Roman Mazur]

## 1.20.3 - 2019-12-18

* Fix flash error processing [Roman Mazur]

## 1.20.2 - 2019-12-18

* Fail fast when dbus connection cannot be established [Roman Mazur]

## 1.20.1 - 2019-12-17

* Update the state when suite finishes [Roman Mazur]

## 1.20.0 - 2019-12-17

* Add non-interactive mode [Roman Mazur]

## 1.19.8 - 2019-12-17

* Fix hanging suite process [Roman Mazur]

## 1.19.7 - 2019-12-17

* Fix error handling for the missing target drive [Roman Mazur]

## 1.19.6 - 2019-12-17

* Inject logger in object state [Theodor Gherzan]
* The file should be CODEOWNERS, not what it was. [Gergely Imreh]
* Add MAINTAINERS file [Gergely Imreh]
* Allow tests to define subtests [Theodor Gherzan]

## 1.19.5 - 2019-04-27

* Fix some formatting issues. [Theodor Gherzan]

## 1.19.4 - 2019-04-26

* Rename e2e suite to testlodge [Theodor Gherzan]

## 1.19.3 - 2019-04-08

* README.md: Add documentation on running the framework [Theodor Gherzan]

## 1.19.2 - 2019-04-01

* Provide run queue summary [Theodor Gherzan]

## 1.19.1 - 2019-04-01

* Define remote worker [Theodor Gherzan]
* Enable prettier and reconfigure eslint to cope with our pretier [Theodor Gherzan]

## 1.19.0 - 2019-01-10

* Instead of passing a private key around rely on a ssh agent [Theodor Gherzan]

## 1.18.8 - 2018-12-10

* Change the order of the tests [Horia Delicoti]

## 1.18.7 - 2018-12-07

* Add test case to move device between applications [Horia Delicoti]

## 1.18.6 - 2018-11-30

* Update reload supervisor test to accept resin and balena images [Horia Delicoti]
* Fix balena component for bluetooth testing due to providing a new component, sync [Horia Delicoti]
* Fix balena component for enabling delta due to providing a new component, sync [Horia Delicoti]

## 1.18.5 - 2018-11-28

* Automate resin sync test [Theodor Gherzan]

## 1.18.4 - 2018-11-28

* Use ssh written purely in node [Theodor Gherzan]
* Fix the filename expected from the image maker [Theodor Gherzan]

## 1.18.3 - 2018-11-09

* Update device-reportOsVersion test due to balena rename [Horia Delicoti]

## 1.18.2 - 2018-11-06

* Use internal balena-requests for API calls [Theodor Gherzan]

## 1.18.1 - 2018-11-05

* Make request native so we can extract more data on failures [Theodor Gherzan]

## v1.18.0 - 2018-10-30

* The big rename from Resin.io to Balena [Theodor Gherzan]
* Update package.json for new resin-semver release [Paulo Castro]

## v1.17.12 - 2018-10-25

* Provide repl interface [Theodor Gherzan]

## v1.17.11 - 2018-10-24

* Update package.json for new resin-semver release [Paulo Castro]

## v1.17.10 - 2018-10-18

* Parameterize worker as a top level option [Theodor Gherzan]

## v1.17.9 - 2018-10-18

* Semi-automate the bluetooth test [Horia Delicoti]
* ResinIO ssh connection requires a certain device state [Theodor Gherzan]

## v1.17.8 - 2018-10-17

* Fix etcher progress bar [Horia Delicoti]

## v1.17.7 - 2018-10-16

* Allow the use of variables that contain whitespaces [Theodor Gherzan]
* Fix semi-tests due to update of submodule contracts [Horia Delicoti]

## v1.17.6 - 2018-10-12

* Update tests to latest changes from submodule contracts [Horia Delicoti]
* Update contracts submodule [Horia Delicoti]

## v1.17.5 - 2018-10-12

* Factor out common push code [Theodor Gherzan]

## v1.17.4 - 2018-10-12

* Resolve version properly [Theodor Gherzan]

## v1.17.3 - 2018-10-11

* Fix hostapp update to work on updating from old version to new [Horia Delicoti]

## v1.17.2 - 2018-10-11

* Name ssh key label same as the application name [Horia Delicoti]

## v1.17.1 - 2018-10-11

* Provide build status badge [Theodor Gherzan]

## v1.17.0 - 2018-10-11

* Add support for testbot infrastructure [Theodor Gherzan]

## v1.16.12 - 2018-10-10

* Refactor code to accomodate for the testbot worker [Theodor Gherzan]

## v1.16.11 - 2018-10-08

* Fix multiple parallel runs on the same machine [Theodor Gherzan]

## v1.16.10 - 2018-10-08

* Fix delta due to resin-sdk changes [Horia Delicoti]

## v1.16.9 - 2018-10-08

* Revamp the README and remove outdated information [Theodor Gherzan]

## v1.16.8 - 2018-10-08

* Automate resin-progress test [Horia Delicoti]

## v1.16.7 - 2018-10-08

* Automate supervisor update through the api [Theodor Gherzan]

## v1.16.6 - 2018-10-04

* Automate supervisor update testcase [Theodor Gherzan]

## v1.16.5 - 2018-10-04

* Re-work pushing application [Theodor Gherzan]

## v1.16.4 - 2018-10-04

* Retry SSH connection if connection drops internally [Theodor Gherzan]

## v1.16.3 - 2018-10-04

* When runnning in a CI do not allocate a tty 1 [Theodor Gherzan]

## v1.16.2 - 2018-09-20

* Dependencies: Update resin-semver version to support Balena OS [Lucian Buzzo]

## v1.16.1 - 2018-09-05

* Refactor effort [Theodor Gherzan]

## v1.16.0 - 2018-09-04

* Add test to check the device reports the hostOS version [Horia Delicoti]

## v1.15.13 - 2018-09-04

* Test supervisor update through the API [Horia Delicoti]
* Define OS concept [Theodor Gherzan]

## v1.15.12 - 2018-08-24

* Switch to resin-semver module #228 [Horia Delicoti]

## v1.15.11 - 2018-08-21

* Use COPY rather than ADD in Dockerfile #227 [Horia Delicoti]

## v1.15.10 - 2018-08-20

* To creat an application takes an object argument #226 [Horia Delicoti]
* Add kvm support to speed qemu up #226 [Theodor Gherzan]

## v1.15.9 - 2018-07-04

* Move from ava to node-tap #217 [Theodor Gherzan]

## v1.15.8 - 2018-07-04

* Fix: ResinCI configure #218 [Theodor Gherzan]

## v1.15.7 - 2018-06-28

* Getting device OS config requires resinOS version now #216 [Theodor Gherzan]

## v1.15.6 - 2018-06-01

* Refactor device initialization logic as worker classes #211 [Juan Cruz Viotti]

## v1.15.5 - 2018-05-31

* Split tests into their own files #210 [Juan Cruz Viotti]

## v1.15.4 - 2018-05-31

* Remove all bash code #208 [Theodor Gherzan]

## v1.15.3 - 2018-05-24

* Use API keys instead of authenticating with credentials #207 [Horia Delicoti]

## v1.15.2 - 2018-05-02

* Add pensieve backend to publish test results #190 [Theodor Gherzan]

## v1.15.1 - 2018-05-02

* Produce, consume and format TAP output #146 [Theodor Gherzan]

## v1.15.0 - 2018-05-01

* Add test to check image filename format #102 [Horia Delicoti]
* Use contracts to get the arch version and led properties of the device #102 [Horia Delicoti]
* Visual fixes for semi-tests #102 [Horia Delicoti]

## v1.14.0 - 2018-04-20

* Refactor graphics semi-tests #176 [Horia Delicoti]

## v1.13.0 - 2018-04-20

* Refactor supervisor semi-tests #177 [Horia Delicoti]

## v1.12.0 - 2018-04-20

* Refactor resinhup semi-tests #178 [Horia Delicoti]

## v1.11.0 - 2018-04-20

* Adding vim and rsync for installing * Configuring git identity #175 [Horia Delicoti]

## v1.10.0 - 2018-04-20

* Refactor development experience semi-tests #174 [Horia Delicoti]

## v1.9.0 - 2018-04-17

* Enable interactive tests using a config env var #172 [Horia Delicoti]

## v1.8.0 - 2018-04-16

* Add semi multicontainer test #169 [Horia Delicoti]

## v1.7.3 - 2018-04-12

* Implemenet SSH key removal by label #143 [Theodor Gherzan]

## v1.7.2 - 2018-04-12

* Make Circle CI ignore verson commits generated by VersionBot #127 [Juan Cruz Viotti]

## v1.7.1 - 2018-04-12

* Adapt code to the new multi-contianer architecture #171 [Theodor Gherzan]

## v1.7.0 - 2018-03-27

* Wifi credentials were not parsed #158 [Horia Delicoti]
* Refactor semi-tests on bluetooth #158 [Horia Delicoti]
* Refactor semi-test that depends on device-type #158 [Horia Delicoti]
* Refactor semi-test that enters and syncs application #158 [Horia Delicoti]
* Refactor semi-test on supervisor #158 [Horia Delicoti]
* Refactor semi-test that tests the kernel boot logo and the splash screen #158 [Horia Delicoti]

## v1.6.0 - 2018-03-16

* Provision device with deltas enabled #144 [Horia Delicoti]

## v1.5.2 - 2018-03-15

* Refactor the resin SDK component #148 [Theodor Gherzan]

## v1.5.1 - 2018-03-12

* Remove Resin CLI prepare instructions #119 [Juan Cruz Viotti]

## v1.5.0 - 2018-03-07

* Refactor code for readability *Add file to ignore for specific IDE #108 [Horia Delicoti]

## v1.4.4 - 2018-03-02

* Implement hostapp update testcase #94 [Theodor Gherzan]

## v1.4.3 - 2018-03-02

* Dynamically pass environment to Docker #123 [Juan Cruz Viotti]

## v1.4.2 - 2018-03-02

* Make the teardown function robust to flaky network #135 [Theodor Gherzan]

## v1.4.1 - 2018-03-02

* Fix wifi configuration support #132 [Theodor Gherzan]

## v1.4.0 - 2018-03-02

* Configure SSH keys in container to be able to clone and push application without additional steps #134 [Horia Delicoti]
* Slight flow re-work of the project #134 [Theodor Gherzan]
* Use contracts to determine whether to run bluetooth tests or not #134 [Juan Cruz Viotti]

## v1.3.2 - 2018-03-01

* Place device configuration in "options" #120 [Juan Cruz Viotti]
* Move the project back to javascript #120 [Theodor Gherzan]
* Do not share application name between tests, so we can run test instances in parallel #120 [Theodor Gherzan]
* Integrate ESLint #120 [Juan Cruz Viotti]
* Run tests serially #120 [Juan Cruz Viotti]

## v1.3.1 - 2018-02-22

* Make temporary directory configurable using an env var #117 [Juan Cruz Viotti]

## v1.3.0 - 2018-02-19

* Installing resin-cli inside container *Providing make target to enter running container #112 [Horia Delicoti]

## v1.2.0 - 2018-02-16

* Include semi-manual test cases from TestLodge #107 [Juan Cruz Viotti]

## v1.1.0 - 2018-02-14

* Stop Ava to abort test on a single failure #111 [Horia Delicoti]
* Allow user confirmation through IPC on serial mode #111 [Juan Cruz Viotti]

## v1.0.8 - 2018-02-08

* Execute Ava CLI through a Node.js wrapper #106 [Juan Cruz Viotti]

## v1.0.7 - 2018-02-08

* Run all tests serially #104 [Juan Cruz Viotti]

## v1.0.6 - 2018-02-06

* Integrate ssh util with various components #103 [Theodor Gherzan]

## v1.0.5 - 2018-02-06

* Refactor the sdk component #98 [Theodor Gherzan]

## v1.0.4 - 2018-02-01

* Upgrade SDK to bypass API bug with older versions #101 [Theodor Gherzan]

## v1.0.3 - 2018-01-24

* Push application test should not run in parallell with other ones #96 [Theodor Gherzan]
* Fix typo #96 [Theodor Gherzan]
* Rework 'push an application' test #96 [Theodor Gherzan]
* Rework download progress #96 [Theodor Gherzan]
* Make circleci use our own build configuration #96 [Theodor Gherzan]
* Improve Dockerfile #96 [Theodor Gherzan]

## v1.0.2 - 2017-12-06

* Add qemux86-64 support #46 [Theodor Gherzan]
* Remove dollarsign in lint command instructions #46 [Juan Cruz Viotti]
* Add a basic README #46 [Juan Cruz Viotti]
* Bridge device type environment variable to Docker container #46 [Juan Cruz Viotti]
* Get rid of env.list #46 [Juan Cruz Viotti]
* Fix various TypeScript related issues #46 [Juan Cruz Viotti]
* Add source code license blocks #46 [Juan Cruz Viotti]

## v1.0.1 - 2017-11-29

* Ava does not support t.context in before blocks #69 [Theodor Gherzan]
* Preprovision resin.io devices and properly wait for a uuid #69 [Juan Cruz Viotti]
* Use namespaced env vars #69 [Juan Cruz Viotti]
* Don't wait for stdin on provision before continuing #69 [Juan Cruz Viotti]
* Use a locally scoped temporary directory #69 [Juan Cruz Viotti]
* Minor logging improvements #69 [Juan Cruz Viotti]
* Unmount drive before opening it in Etcher writer #69 [Juan Cruz Viotti]
* Get all options from environment variables #69 [Juan Cruz Viotti]
* Add missing percentage to Etcher writer logs #69 [Juan Cruz Viotti]
* Log provisioning process to stdout #69 [Juan Cruz Viotti]
* Pipe to progress stream when downloading OS #69 [Juan Cruz Viotti]
* Various fixes to make everything run fine on TypeScript #69 [Juan Cruz Viotti]
* Start using TypeScript async/await #69 [Juan Cruz Viotti]
* Expand .gitignore #69 [Juan Cruz Viotti]
* Switch to TypeScript #69 [Juan Cruz Viotti]
* Add a device-type component with a default implementation #69 [Juan Cruz Viotti]

## v1.0.0 - 2017-11-22

* Add VersionBot configuration files. [Horia]
